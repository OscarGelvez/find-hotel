(this["webpackJsonpreact-redux"]=this["webpackJsonpreact-redux"]||[]).push([[6],{150:function(e,t,a){"use strict";a.r(t);var l=a(75),n=a(0),o=a(82),r=a.n(o),i=a(83),c=a(84),m=a.n(c),s=a(66),d=function(){return m.a.get("".concat(s.a,"/rooms"))},u=function(e){return m.a.get("".concat(s.a,"/rooms").concat(function(e){var t="?";return e.fromDate&&(t="".concat(t,"available_from_lte=").concat(e.fromDate)),e.untilDate&&(t="".concat(""!==t?t+"&":"","available_until_gte=").concat(e.untilDate)),e.capacity&&(t="".concat(""!==t?t+"&":"","capacity=").concat(e.capacity)),t="".concat(""!==t?t+"&":"","ac=").concat(e.withAir&&!0===e.withAir?"Y":"N"),t="".concat(""!==t?t+"&":"","parking=").concat(e.withParking&&!0===e.withParking?"Y":"N")}(e)))},f=a(20),b=a(21),E={message:"",type:""};function p(e){return{type:b.b,payload:e}}function v(e){return{type:f.b,payload:e}}function N(e){return{type:f.a,payload:e}}var h=a(27),g=a(64),k=a(67),y=a(74),w=a(85),D=a(72),x=a(71),F=a(62),R={fromDate:"",untilDate:"",capacity:"",withAir:!1},B=x.b().shape({fromDate:x.c().notRequired(),untilDate:x.c().notRequired(),capacity:x.c().notRequired(),withAir:x.a().notRequired(),withParking:x.a().notRequired()}),S=function(e){var t=e.onSubmit,a=e.listAvailableRooms,l=new Date,o=l.toISOString().split("T")[0],r=n.useState(""),i=Object(y.a)(r,2),c=i[0],m=i[1],s=Object(F.a)(l,c,o);return n.createElement(n.Fragment,null,n.createElement("div",{"data-testid":"find-rooms",className:"card-rooms"},n.createElement("div",{className:"row"},n.createElement("div",{className:"card filter-area "},n.createElement("div",{className:"col"},n.createElement(D.c,{initialValues:R,validationSchema:B,onSubmit:function(e){t({fromDate:c,untilDate:e.untilDate,capacity:e.capacity,withAir:e.withAir,withParking:e.withParking})},onReset:function(e,t){t.resetForm;m(""),a()}},n.createElement(D.b,{"data-testid":"form-find-rooms"},n.createElement("div",{className:"form-group row mb-3 mt-3"},n.createElement("label",{htmlFor:"fromDate",className:"col-12 col-sm-6 col-lg-2 col-form-label"},"Fecha de ingreso*"),n.createElement("div",{className:"col-12 col-sm-6 col-lg-4"},n.createElement(D.a,{className:"form-control","data-testid":"form-fromDate",type:"date",name:"fromDate",id:"fromDate",min:o,value:c,required:!0,onChange:function(e){m(e.target.value)}})),n.createElement("label",{htmlFor:"untilDate",className:"col-12  col-sm-6 col-lg-2 col-form-label"},"Fecha de salida*"),n.createElement("div",{className:"col-12 col-sm-6 col-lg-4"},n.createElement(D.a,{className:"form-control","data-testid":"form-untilDate",type:"date",name:"untilDate",id:"untilDate",required:!0,min:s}))),n.createElement("div",{className:"row mb-4"},n.createElement("div",{className:"d-flex col-12 col-sm-6 col-lg-4 text-center"},n.createElement("label",{className:"pr-2",htmlFor:"capacity"},"Personas"),n.createElement(D.a,{component:"select",className:" filter-select","data-testid":"form-capacity","aria-label":".form-select-sm example",id:"capacity",name:"capacity"},n.createElement("option",{value:""},"Seleccione"),n.createElement("option",{value:"1"},"1 adulto"),n.createElement("option",{value:"2"},"2 adultos"),n.createElement("option",{value:"3"},"3 adultos"),n.createElement("option",{value:"4"},"4 adultos"))),n.createElement("div",{className:"col-12 col-sm-6 col-lg-4 text-md-center "},n.createElement(D.a,{type:"checkbox",className:"m-2","data-testid":"form-withAir","aria-label":"Checkbox find room with air",name:"withAir",id:"withAir"}),n.createElement("label",{className:"cursor-pointer",htmlFor:"withAir"},"\xbfAire acondicionado?")),n.createElement("div",{className:"col-12 col-lg-4 mt-sm-2 mt-md-0"},n.createElement(D.a,{type:"checkbox",className:"m-2","data-testid":"form-withParking","aria-label":"Checkbox  find room with parking",name:"withParking",id:"withParking"}),n.createElement("label",{className:"cursor-pointer",htmlFor:"withParking"},"\xbfParqueadero?"))),n.createElement("div",{className:"text-center mt-5"},n.createElement(w.a,{className:" w-50","data-testid":"form-button-find",type:"submit"},"Encuentralo!")),n.createElement("div",{className:"text-center mb-4 mt-1"},n.createElement(w.a,{className:"button-link","data-testid":"form-button-reset",type:"reset"},"limpiar")))))))))},O=a(76),j=a(69),A=function(e){var t=e.listRooms,a=e.loadDetailRoom,l=e.isLoading;return n.createElement(n.Fragment,null,l&&n.createElement(j.a,null),n.createElement("div",{"data-testid":"list-rooms",className:"card-rooms"},n.createElement("div",{className:"row pt-5"},n.createElement("div",{className:"col"},t&&t.length>0&&t.map((function(e,t){return n.createElement(O.a,{key:t,data:e,loadDetailRoom:a})}))))))},P=a(4);function _(){var e=Object(P.a)(["\n  display: flex;\n  width: 100%;\n  flex-wrap: wrap;\n"]);return _=function(){return e},e}var q=a(5).a.div(_()),C=Object(h.b)((function(e){return{listRooms:e.rooms.listRooms,isLoading:e.main.isLoading,errorMessage:e.main.errorMessage}}),{listAvailableRooms:function(){return function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(!0)),e.next=3,d().then((function(e){return t(v(!1)),t(N(E)),t(p(e.data))})).catch((function(e){return t(v(!1)),t(N({type:"rooms",message:"Error al cargar los hoteles. Por favor, intente nuevamente"})),t(p([]))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},findRoomsFilter:function(e){return function(){var t=Object(i.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(v(!0)),t.next=3,u(e).then((function(e){return a(v(!1)),a(N(E)),a(p(e.data))})).catch((function(e){return a(v(!1)),a(N({type:"rooms-filter",message:"No se encotraron resultados. Por favor, intente nuevamente"})),a(p([]))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadDetailRoom:function(e){return{type:b.c,payload:e}}})((function(e){var t=e.listRooms,a=e.listAvailableRooms,l=e.findRoomsFilter,o=e.loadDetailRoom,r=e.isLoading,i=e.errorMessage;return n.useEffect((function(){t&&0===t.length&&""===i.message&&a()}),[t,a,i]),n.useEffect((function(){""!==i.message&&("rooms"===i.type?g.b.error(i.message):"rooms-filter"===i.type&&g.b.info(i.message))}),[i]),n.createElement(q,{"data-testid":"room"},n.createElement(k.a,null),n.createElement(S,{onSubmit:l,listAvailableRooms:a}),n.createElement(A,{listRooms:t,loadDetailRoom:o,isLoading:r}))})),T=function(){return n.createElement(l.a,{title:"Habitaciones",description:"Encuentra tu habitaci\xf3n"},n.createElement(C,null))};T.displayName="HomeMainPage";t.default=T},62:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var l=function(e,t,a){if(t===a)return e.setDate(e.getDate()+1),e.toISOString().split("T")[0];var l=""!==t?new Date(t):e;return l.setDate(l.getDate()+1),l.toISOString().split("T")[0]}},66:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var l="http://find-hotels-json-server.herokuapp.com"},67:function(e,t,a){"use strict";var l=a(0),n=a(64);t.a=function(){return l.createElement("div",{"data-testid":"toast-error"},l.createElement(n.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}},69:function(e,t,a){"use strict";var l=a(0),n=a(70),o=a.n(n);t.a=function(){return l.createElement(l.Fragment,null,l.createElement("div",{"data-testid":"view-spinner",className:"container-loader"},l.createElement("img",{"data-testid":"view-spinner-loader",src:o.a,alt:"loading",className:"img-loader"})))}},70:function(e,t,a){e.exports=a.p+"static/media/loading.890fa681.gif"},75:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var l=a(0),n=a(81),o=a(4);function r(){var e=Object(o.a)(["\n  padding-top: 20px;\n  padding-left: 16px;\n  padding-right: 16px;\n"]);return r=function(){return e},e}var i=a(5).a.div(r()),c=function(e){var t=e.children,a=e.title,o=e.description;return l.createElement(l.Fragment,null,l.createElement(n.a,null,a&&l.createElement("title",null,"Find hotel | ",a),o&&l.createElement("meta",{name:"description",content:o})),l.createElement(i,{"data-testid":"layout"},t))}},76:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var l=a(74),n=a(62),o=a(72),r=a(0),i=a(71),c=function(e){var t=e.label,a=e.icon,l=e.value,n=e.valueText,o=void 0!==l&&!0===l;return r.createElement(r.Fragment,null,r.createElement("h6",{"data-testid":"custom-field",className:"font-weight-bold"},t," ",r.createElement("i",{className:"fas ".concat(a)})," :"," ",n&&""!==n?r.createElement("span",{"data-testid":"custom-field-value-text"},n):r.createElement("i",{className:"fas fa-".concat(o?"check":"times"),"data-testid":"custom-field-value-".concat(o?"true":"false")})))},m=a(16),s=function(e){var t=e.data,a=e.loadDetailRoom,l=e.selectedRoom,n=e.saveBookingRoom;return r.createElement("div",{"data-testid":"card-information",className:"card room-item"},r.createElement("div",{className:"card-header room-item-header "},r.createElement("h3",null,t.hotel.name),r.createElement("h4",null,t.hotel.score)),r.createElement("div",{className:"card-body"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col col-md-4"},r.createElement("img",{src:t.image,className:"img-fluid",alt:"hotel room",width:"260px",height:"180px"})),r.createElement("div",{className:"col col-md-8"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-12 col-lg-8"},r.createElement("h5",{className:"card-title"},t.title)),r.createElement("div",{className:"col-12 col-lg-4"},n&&l&&-1!==l?r.createElement(r.Fragment,null,r.createElement("button",{type:"button",className:"btn btn-primary btn-book w-100","data-testid":"form-detail-button-book","data-bs-toggle":"modal","data-bs-target":"#modalFormBook",id:"form-detail-button"},r.createElement("i",{className:"far fa-calendar-check ml-3"})," Reservar"),r.createElement(f,{saveBookingRoom:n,dataRoom:t})):a&&r.createElement(m.a,{to:"/rooms/detail"},r.createElement("button",{type:"button",id:"btn-select-detail",className:"btn btn-primary btn-book w-100","data-testid":"form-button-load-detail",onClick:function(){return a&&a(t.id)}},r.createElement("i",{className:"far fa-calendar-check ml-3"})," Seleccionar"))),r.createElement("div",{className:"col-12 col-md-12"},r.createElement("h4",null,r.createElement("i",{className:"far fa-money-bill-alt"})," ",t.value)),r.createElement("div",{className:"col-12 col-md-12 d-flex"},r.createElement(c,{label:"Inicio",icon:"fa-calendar-alt",valueText:t.available_from}),r.createElement(c,{label:"-  Fin",icon:"fa-calendar-alt",valueText:t.available_until}))),r.createElement("p",{className:"card-text"},t.description),l&&-1!==l&&r.createElement("div",{className:"mb-3","data-testid":"form-field-hotel-desc"},r.createElement("p",{className:"card-text"},t.hotel.description),r.createElement(c,{label:"Direcci\xf3n",icon:"fa-map-marked-alt",valueText:"".concat(t.hotel.address)})),r.createElement("div",{className:"row"},r.createElement("div",{className:"col col-md-6"},r.createElement(c,{label:"Camas",icon:"fa-bed",valueText:"".concat(t.capacity)}),r.createElement(c,{label:"Aire",icon:"fa-wind",value:"Y"===t.ac}),r.createElement(c,{label:"Wifi",icon:"fa-wifi",value:"Y"===t.wifi})),r.createElement("div",{className:"col col-md-6"},r.createElement(c,{label:"Parqueadero",icon:"fa-car",value:"Y"===t.parking}),r.createElement(c,{label:"Ba\xf1os",icon:"fa-restroom",value:!0}),l&&-1!==l&&r.createElement(b,{score:t.hotel.stars})))))))},d={name:"",email:"",identification_type:"",identification:"",fromDateBook:"",untilDateBook:""},u=i.b().shape({name:i.c().min(2,"Nombre muy corto").max(50,"Nombre muy largo").required("Nacesitamos tu nombre"),email:i.c().email("Email no v\xe1lido").required("Necesitamos tu email"),identification_type:i.c().required("Necesitamos tu tipo de identificaci\xf3n"),identification:i.c().required("Necesitamos tu identificaci\xf3n"),fromDateBook:i.c().required("Necesitamos tu fecha de ingreso"),untilDateBook:i.c().required("Necesitamos tu fecha de salida")}),f=function(e){var t=e.saveBookingRoom,a=e.dataRoom,i=function(){$("#modalFormBook").modal("hide")},c=new Date,m=c.toISOString().split("T")[0],s=r.useState(""),f=Object(l.a)(s,2),b=f[0],E=f[1],p=Object(n.a)(c,b,m);return r.createElement(r.Fragment,null,r.createElement("div",{"data-testid":"modal-form-book"},r.createElement("div",{className:"modal fade",id:"modalFormBook","aria-labelledby":"modalFormBookLabel","data-testid":"modal-book"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title",id:"modalFormBookLabel"},"Completa tu reserva"),r.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),r.createElement("div",{className:"modal-body"},r.createElement(o.c,{initialValues:d,validationSchema:u,onSubmit:function(e,l){var n=l.resetForm;t&&t({bookData:{name:e.name,email:e.email,identification_type:e.identification_type,identification:e.identification,fromDateBook:b,untilDateBook:e.untilDateBook},roomData:a}),i(),E(""),n()}},(function(e){var t=e.errors,l=e.touched,n=e.setFieldValue;return r.createElement(o.b,{"data-testid":"modal-book-form",id:"form-modal-book"},r.createElement("div",{className:"row mb-3"},r.createElement("div",{className:"col-12 col-md-6 "},r.createElement("label",{htmlFor:"name",className:"col-12 col-form-label"},"Nombre"),r.createElement(o.a,{name:"name",className:"form-control col-12",placeholder:"eje: Joe Doe","data-testid":"modal-book-form-name",id:"book-form-name"}),t.name&&l.name?r.createElement("small",{className:"text-danger"},t.name):null),r.createElement("div",{className:" col-12 col-md-6"},r.createElement("label",{htmlFor:"email",className:"col-12 col-form-label"},"Correo electr\xf3nico"),r.createElement(o.a,{name:"email",type:"email",className:"form-control col-12","data-testid":"modal-book-form-email",placeholder:"eje: joe@email.com",id:"book-form-email"}),t.email&&l.email?r.createElement("small",{className:"text-danger"},t.email):null)),r.createElement("div",{className:"row mb-3"},r.createElement("div",{className:"col-12 col-md-6 "},r.createElement("label",{htmlFor:"name",className:"col-12 col-form-label"},"Fecha de ingreso"),r.createElement(o.a,{className:"form-control","data-testid":"form-book-fromDate",type:"date",name:"fromDateBook",id:"fromDateBook",min:m,value:b,onChange:function(e){n("fromDateBook",e.target.value),E(e.target.value)}}),t.fromDateBook&&l.fromDateBook?r.createElement("small",{className:"text-danger"},t.fromDateBook):null),r.createElement("div",{className:" col-12 col-md-6"},r.createElement("label",{htmlFor:"email",className:"col-12 col-form-label"},"Fecha de salida"),r.createElement(o.a,{className:"form-control","data-testid":"form-book-untilDate",type:"date",name:"untilDateBook",id:"untilDateBook",min:p,max:a.available_until}),t.untilDateBook&&l.untilDateBook?r.createElement("small",{className:"text-danger"},t.untilDateBook):null)),r.createElement("div",{className:"row mb-2"},r.createElement("div",{className:"col-12 col-md-6 "},r.createElement("label",{className:"pr-2",htmlFor:"identification_type"},"Tipo de identificaci\xf3n"),r.createElement(o.a,{as:"select",className:" d-block w-100","aria-label":".form-select-sm example",name:"identification_type","data-testid":"modal-book-form-identification-type",id:"book-form-select"},r.createElement("option",{value:""},"Seleccione"),r.createElement("option",{value:"1"},"C\xe9dula de ciudadan\xeda"),r.createElement("option",{value:"2"},"C\xe9dula de extranjeria"),r.createElement("option",{value:"3"},"Nit"),r.createElement("option",{value:"4"},"Pasaporte")),t.identification_type&&l.identification_type?r.createElement("small",{className:"text-danger"},t.identification_type):null),r.createElement("div",{className:" col-12 col-md-6"},r.createElement("label",{className:"pr-2",htmlFor:"identification"},"Identificaci\xf3n"),r.createElement(o.a,{name:"identification",className:"form-control",placeholder:"eje: 60830147","data-testid":"modal-book-form-identification",id:"book-form-identification"}),t.identification&&l.identification?r.createElement("small",{className:"text-danger"},t.identification):null)),r.createElement("div",{className:"d-flex justify-content-between mt-3"},r.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal","data-testid":"modal-book-form-btn-cancel",id:"modal-form-btn-cancel"},"Cancelar"),r.createElement("button",{type:"submit",className:"btn btn-primary","data-testid":"modal-book-form-btn-submit",id:"modal-form-btn-submit"},"Finalizar")))}))))))))},b=function(e){var t=e.score,a=new Array(t);return a.fill("star",0),r.createElement(r.Fragment,null,r.createElement("div",{"data-testid":"star-score"},t&&a.map((function(e,t){return r.createElement("i",{key:t,className:"fas fa-star"})}))))}},85:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a(4);function n(){var e=Object(l.a)(["\n  background: #ffea00;\n  border-radius: 10px;\n  color: #000;\n  height: auto;\n  font-weight: 700;\n  text-align: center;\n  &[disabled] {\n    opacity: 0.3;\n  }\n"]);return n=function(){return e},e}var o=a(5).a.button(n())}}]);
//# sourceMappingURL=6.10613b86.chunk.js.map