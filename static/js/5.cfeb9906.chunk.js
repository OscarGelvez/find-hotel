(this["webpackJsonpreact-redux"]=this["webpackJsonpreact-redux"]||[]).push([[5],{141:function(e,t,a){"use strict";a.r(t);var l=a(69),n=a(0),c=a(63),r=function(){return c.a.get("/rooms")},i=function(e){return c.a.get("/rooms".concat(function(e){var t="?";return e.fromDate&&(t="".concat(t,"available_from_lte=").concat(e.fromDate)),e.untilDate&&(t="".concat(""!==t?t+"&":"","available_until_gte=").concat(e.untilDate)),e.capacity&&(t="".concat(""!==t?t+"&":"","capacity=").concat(e.capacity)),t="".concat(""!==t?t+"&":"","ac=").concat(e.withAir&&!0===e.withAir?"Y":"N"),t="".concat(""!==t?t+"&":"","parking=").concat(e.withParking&&!0===e.withParking?"Y":"N")}(e)))},o=a(20);function m(e){return{type:o.b,payload:e}}var s=a(26),d=a(92),u=a(76),f=a(66),E=a(65),b={fromDate:"",untilDate:"",capacity:"",withAir:!1},v=E.b().shape({fromDate:E.c().notRequired(),untilDate:E.c().notRequired(),capacity:E.c().notRequired(),withAir:E.a().notRequired(),withParking:E.a().notRequired()}),p=function(e){var t=e.onSubmit,a=e.listAvailableRooms,l=new Date,c=l.toISOString().split("T")[0],r=n.useState(""),i=Object(d.a)(r,2),o=i[0],m=i[1],s=function(){if(o===c)return l.setDate(l.getDate()+1),l.toISOString().split("T")[0];var e=""!==o?new Date(o):l;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}();return n.createElement(n.Fragment,null,n.createElement("div",{"data-testid":"find-rooms",className:"card-rooms"},n.createElement("div",{className:"row"},n.createElement("div",{className:"card filter-area "},n.createElement("div",{className:"col"},n.createElement(f.c,{initialValues:b,validationSchema:v,onSubmit:function(e){t({fromDate:o,untilDate:e.untilDate,capacity:e.capacity,withAir:e.withAir,withParking:e.withParking})},onReset:function(e,t){t.resetForm;m(""),a()}},n.createElement(f.b,{"data-testid":"form-find-rooms"},n.createElement("div",{className:"form-group row mb-3 mt-3"},n.createElement("label",{htmlFor:"fromDate",className:"col-12 col-sm-6 col-lg-2 col-form-label"},"Fecha de ingreso*"),n.createElement("div",{className:"col-12 col-sm-6 col-lg-4"},n.createElement(f.a,{className:"form-control","data-testid":"form-fromDate",type:"date",name:"fromDate",id:"fromDate",min:c,value:o,required:!0,onChange:function(e){m(e.target.value)}})),n.createElement("label",{htmlFor:"untilDate",className:"col-12  col-sm-6 col-lg-2 col-form-label"},"Fecha de salida*"),n.createElement("div",{className:"col-12 col-sm-6 col-lg-4"},n.createElement(f.a,{className:"form-control","data-testid":"form-untilDate",type:"date",name:"untilDate",id:"untilDate",required:!0,min:s}))),n.createElement("div",{className:"row mb-4"},n.createElement("div",{className:"d-flex col-12 col-sm-6 col-lg-4 text-center"},n.createElement("label",{className:"pr-2",htmlFor:"capacity"},"Personas"),n.createElement(f.a,{component:"select",className:" filter-select","data-testid":"form-capacity","aria-label":".form-select-sm example",id:"capacity",name:"capacity"},n.createElement("option",{value:""},"Seleccione"),n.createElement("option",{value:"1"},"1 adulto"),n.createElement("option",{value:"2"},"2 adultos"),n.createElement("option",{value:"3"},"3 adultos"),n.createElement("option",{value:"4"},"4 adultos"))),n.createElement("div",{className:"col-12 col-sm-6 col-lg-4 text-md-center "},n.createElement(f.a,{type:"checkbox",className:"m-2","data-testid":"form-withAir","aria-label":"Checkbox find room with air",name:"withAir",id:"withAir"}),n.createElement("label",{className:"cursor-pointer",htmlFor:"withAir"},"\xbfAire acondicionado?")),n.createElement("div",{className:"col-12 col-lg-4 mt-sm-2 mt-md-0"},n.createElement(f.a,{type:"checkbox",className:"m-2","data-testid":"form-withParking","aria-label":"Checkbox  find room with parking",name:"withParking",id:"withParking"}),n.createElement("label",{className:"cursor-pointer",htmlFor:"withParking"},"\xbfParqueadero?"))),n.createElement("div",{className:"text-center mt-5"},n.createElement(u.a,{className:" w-50","data-testid":"form-button-find",type:"submit"},"Encuentralo!")),n.createElement("div",{className:"text-center mb-4 mt-1"},n.createElement(u.a,{className:"button-link","data-testid":"form-button-reset",type:"reset"},"limpiar")))))))))},h=a(68),N=function(e){var t=e.listRooms,a=e.loadDetailRoom;return n.createElement(n.Fragment,null,n.createElement("div",{"data-testid":"list-rooms",className:"card-rooms"},n.createElement("div",{className:"row pt-5"},n.createElement("div",{className:"col"},t&&t.length>0&&t.map((function(e,t){return n.createElement(h.a,{key:t,data:e,loadDetailRoom:a})}))))))},g=a(3);function y(){var e=Object(g.a)(["\n  display: flex;\n  width: 100%;\n  flex-wrap: wrap;\n"]);return y=function(){return e},e}var w=a(4).a.div(y()),k=Object(s.b)((function(e){return{listRooms:e.rooms.listRooms}}),{listAvailableRooms:function(){return function(e){r().then((function(t){return e(m(t.data))}))}},findRoomsFilter:function(e){return function(t){i(e).then((function(e){return t(m(e.data))}))}},loadDetailRoom:function(e){return{type:o.c,payload:e}}})((function(e){var t=e.listRooms,a=e.listAvailableRooms,l=e.findRoomsFilter,c=e.loadDetailRoom;return n.useEffect((function(){t&&0===t.length&&a()}),[t,a]),n.createElement(w,{"data-testid":"room"},n.createElement(p,{onSubmit:l,listAvailableRooms:a}),n.createElement(N,{listRooms:t,loadDetailRoom:c}))})),x=function(){return n.createElement(l.a,{title:"Habitaciones",description:"Encuentra tu habitaci\xf3n"},n.createElement(k,null))};x.displayName="HomeMainPage";t.default=x},63:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var l=a(75),n=a.n(l).a.create({baseURL:"https://find-hotels-json-server.herokuapp.com",timeout:3e4,headers:{"X-Custom-Header":"foobar"}})},68:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a(66),n=a(0),c=a(65),r=function(e){var t=e.label,a=e.icon,l=e.value,c=e.valueText,r=void 0!==l&&!0===l;return n.createElement(n.Fragment,null,n.createElement("h6",{"data-testid":"custom-field",className:"font-weight-bold"},t," ",n.createElement("i",{className:"fas ".concat(a)})," :"," ",c&&""!==c?n.createElement("span",{"data-testid":"custom-field-value-text"},c):n.createElement("i",{className:"fas fa-".concat(r?"check":"times"),"data-testid":"custom-field-value-".concat(r?"true":"false")})))},i=a(16),o=function(e){var t=e.data,a=e.loadDetailRoom,l=e.selectedRoom,c=e.saveBookingRoom;return n.createElement("div",{"data-testid":"card-information",className:"card room-item"},n.createElement("div",{className:"card-header room-item-header "},n.createElement("h3",null,t.hotel.name),n.createElement("h4",null,t.hotel.score)),n.createElement("div",{className:"card-body"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col col-md-4"},n.createElement("img",{src:t.image,className:"img-fluid",alt:"hotel room",width:"260px",height:"180px"})),n.createElement("div",{className:"col col-md-8"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-12 col-lg-8"},n.createElement("h5",{className:"card-title"},t.title)),n.createElement("div",{className:"col-12 col-lg-4"},c&&l&&-1!==l?n.createElement(n.Fragment,null,n.createElement(d,{saveBookingRoom:c,dataRoom:t})):a&&n.createElement(i.a,{to:"/rooms/detail"},n.createElement("button",{type:"button",id:"btn-select-detail",className:"btn btn-primary btn-book w-100","data-testid":"form-button-load-detail",onClick:function(){return a&&a(t.id)}},n.createElement("i",{className:"far fa-calendar-check ml-3"})," Seleccionar"))),n.createElement("div",{className:"col-12 col-md-12"},n.createElement("h4",null,n.createElement("i",{className:"far fa-money-bill-alt"})," ",t.value)),n.createElement("div",{className:"col-12 col-md-12 d-flex"},n.createElement(r,{label:"Inicio",icon:"fa-calendar-alt",valueText:t.available_from}),n.createElement(r,{label:"-  Fin",icon:"fa-calendar-alt",valueText:t.available_until}))),n.createElement("p",{className:"card-text"},t.description),l&&-1!==l&&n.createElement("div",{className:"mb-3","data-testid":"form-field-hotel-desc"},n.createElement("p",{className:"card-text"},t.hotel.description),n.createElement(r,{label:"Direcci\xf3n",icon:"fa-map-marked-alt",valueText:"".concat(t.hotel.address)})),n.createElement("div",{className:"row"},n.createElement("div",{className:"col col-md-6"},n.createElement(r,{label:"Camas",icon:"fa-bed",valueText:"".concat(t.capacity)}),n.createElement(r,{label:"Aire",icon:"fa-wind",value:"Y"===t.ac}),n.createElement(r,{label:"Wifi",icon:"fa-wifi",value:"Y"===t.wifi})),n.createElement("div",{className:"col col-md-6"},n.createElement(r,{label:"Parqueadero",icon:"fa-car",value:"Y"===t.parking}),n.createElement(r,{label:"Ba\xf1os",icon:"fa-restroom",value:!0}),l&&-1!==l&&n.createElement(u,{score:t.hotel.stars})))))))},m={name:"",email:"",identification_type:"",identification:""},s=c.b().shape({name:c.c().min(2,"Nombre muy corto").max(50,"Nombre muy largo").required("Nacesitamos tu nombre"),email:c.c().email("Email no v\xe1lido").required("Necesitamos tu email"),identification_type:c.c().required("Necesitamos tu tipo de identificaci\xf3n"),identification:c.c().required("Necesitamos tu identificaci\xf3n")}),d=function(e){var t=e.saveBookingRoom,a=e.dataRoom,c=function(){$("#modalFormBook").modal("hide")};return n.createElement(n.Fragment,null,n.createElement("div",{"data-testid":"modal-form-book"},n.createElement("button",{type:"button",className:"btn btn-primary btn-book w-100","data-bs-toggle":"modal","data-bs-target":"#modalFormBook"},n.createElement("i",{className:"far fa-calendar-check ml-3"})," Reservar"),n.createElement("div",{className:"modal fade",id:"modalFormBook","aria-labelledby":"modalFormBookLabel"},n.createElement("div",{className:"modal-dialog"},n.createElement("div",{className:"modal-content"},n.createElement("div",{className:"modal-header"},n.createElement("h5",{className:"modal-title",id:"modalFormBookLabel"},"Completa tu reserva"),n.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),n.createElement("div",{className:"modal-body"},n.createElement(l.c,{initialValues:m,validationSchema:s,onSubmit:function(e,l){var n=l.resetForm;t&&t({bookData:{name:e.name,email:e.email,identification_type:e.identification_type,identification:e.identification},roomData:a}),c(),n()}},(function(e){var t=e.errors,a=e.touched;return n.createElement(l.b,null,n.createElement("div",{className:"row mb-3"},n.createElement("div",{className:"col-12 col-md-6 "},n.createElement("label",{htmlFor:"name",className:"col-12 col-form-label"},"Nombre"),n.createElement(l.a,{name:"name",className:"form-control col-12",placeholder:"eje: Joe Doe"}),t.name&&a.name?n.createElement("small",{className:"text-danger"},t.name):null),n.createElement("div",{className:" col-12 col-md-6"},n.createElement("label",{htmlFor:"email",className:"col-12 col-form-label"},"Correo electr\xf3nico"),n.createElement(l.a,{name:"email",type:"email",className:"form-control col-12",placeholder:"eje: joe@email.com"}),t.email&&a.email?n.createElement("small",{className:"text-danger"},t.email):null)),n.createElement("div",{className:"row mb-2"},n.createElement("div",{className:"col-12 col-md-6 "},n.createElement("label",{className:"pr-2",htmlFor:"identification_type"},"Tipo de identificaci\xf3n"),n.createElement(l.a,{as:"select",className:" d-block w-100","aria-label":".form-select-sm example",id:"identification_type",name:"identification_type"},n.createElement("option",{value:""},"Seleccione"),n.createElement("option",{value:"1"},"C\xe9dula de ciudadan\xeda"),n.createElement("option",{value:"2"},"C\xe9dula de extranjeria"),n.createElement("option",{value:"3"},"Nit"),n.createElement("option",{value:"4"},"Pasaporte")),t.identification_type&&a.identification_type?n.createElement("small",{className:"text-danger"},t.identification_type):null),n.createElement("div",{className:" col-12 col-md-6"},n.createElement("label",{className:"pr-2",htmlFor:"identification"},"Identificaci\xf3n"),n.createElement(l.a,{name:"identification",className:"form-control",placeholder:"eje: 60830147"}),t.identification&&a.identification?n.createElement("small",{className:"text-danger"},t.identification):null)),n.createElement("div",{className:"d-flex justify-content-between mt-3"},n.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancelar"),n.createElement("button",{type:"submit",className:"btn btn-primary"},"Finalizar")))}))))))))},u=function(e){var t=e.score,a=new Array(t);return a.fill("star",0),n.createElement(n.Fragment,null,n.createElement("div",{"data-testid":"star-score"},t&&a.map((function(e,t){return n.createElement("i",{key:t,className:"fas fa-star"})}))))}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a(0),n=a(74),c=a(3);function r(){var e=Object(c.a)(["\n  padding-top: 20px;\n  padding-left: 16px;\n  padding-right: 16px;\n"]);return r=function(){return e},e}var i=a(4).a.div(r()),o=function(e){var t=e.children,a=e.title,c=e.description;return l.createElement(l.Fragment,null,l.createElement(n.a,null,a&&l.createElement("title",null,"Find hotel | ",a),c&&l.createElement("meta",{name:"description",content:c})),l.createElement(i,{"data-testid":"layout"},t))}},76:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var l=a(3);function n(){var e=Object(l.a)(["\n  background: #ffea00;\n  border-radius: 10px;\n  color: #000;\n  height: auto;\n  font-weight: 700;\n  text-align: center;\n  &[disabled] {\n    opacity: 0.3;\n  }\n"]);return n=function(){return e},e}var c=a(4).a.button(n())},92:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var l=a(28);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],l=!0,n=!1,c=void 0;try{for(var r,i=e[Symbol.iterator]();!(l=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(o){n=!0,c=o}finally{try{l||null==i.return||i.return()}finally{if(n)throw c}}return a}}(e,t)||Object(l.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=5.cfeb9906.chunk.js.map